<!DOCTYPE html>
<html>

<head>
    <meta charset='UTF-8'>
    <title>Trabalhando com Eventos #01</title>
    <link rel='stylesheet' href='css/estilo.css'>
</head>

<body class="conteudo exercicio">
    <div>
        <!-- Passando um link e criando um evento (onclick), quando esse evento for verdadeiro chamará a função 'navegarEm5s'  -->

        <!-- onclick="navegarEm5s(event)" -->
        <a espera-um-pouco href="https://google.com.br" >Google</a>
    </div>

    <script>
        // A função recebe um evento (e) e intercepta o click na página, ou seja, ao ocorrer o evento do click essa função será chamada e ela irá segurar o evento de abrir o link por 5 segundos 
        function navegarEm5s(e) {

            // Prevenindo que o comportamento padrão do evento ocorra, ou seja, prevenindo que o link (site do google) seja aberto
            e.preventDefault(); 

            console.log('Saindo em 5s...')
            setTimeout(() => {
                // Target é uma propriedade do evento que representa o elemento HTML que disparou o evento, e.target é igual ao próprio link
                const link = e.target 

                // link.href é o endereço do google nesse exemplo. E window.location.href está substituindo o endereço na janela do browser 
                window.location.href = link.href
            }, 5000) // 5000 milisegundos == 5 segundos
        }


        // Outras formas de interceptar o evento

        // Usando a tag diretamente | Não fica explícito na tag a que esse link será manipulado, pois não tem nenhuma referência no local
       /* const a = document.querySelector('a')
        a.onclick = navegarEm5s */

        // Aqui usamos um atributo na tag a | Atributo é ignorado pelo browser, ou seja, se tem um atributo na tag pressupõe que algum código JS etará sendo executado 
        const a = document.querySelector('[espera-um-pouco]')
        a.onclick = navegarEm5s 
    </script>
</body>